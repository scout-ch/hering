"use strict";(self.webpackChunkhering=self.webpackChunkhering||[]).push([[933],{2982:(e,t,n)=>{n.d(t,{g:()=>d});var s=n(5043),c=n(5475),r=n(2624),a=n(3910),l=n(7929),i=n(579);function o(e){const{content:t}=e;return(0,i.jsxs)("div",{className:"warning",children:[(0,i.jsx)("div",{children:(0,i.jsx)(a.g,{icon:l.zpE})}),t]})}const d={blockquote(e){let{children:t}=e;return(0,i.jsx)(o,{content:t})},table(e){let{children:t}=e;return(0,i.jsx)("div",{className:"table-overflow",children:(0,i.jsx)("table",{children:t})})},a(e){let{node:t,children:n,...a}=e;const l=(0,s.useContext)(r.r),o=a.href,d=null===o||void 0===o?void 0:o.match("\\$(.*)\\$");if(d){const e=l.find((e=>e.key==d[1]));return e?e.link?(0,i.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:n}):e.slug?(0,i.jsx)(c.N_,{to:"/"+e.slug,children:n}):(0,i.jsx)(c.N_,{to:a.href||"",children:n}):(0,i.jsx)(c.N_,{to:a.href||"",children:n})}const u=null===o||void 0===o?void 0:o.match("(mailto:)");return u&&u.length>2&&u[1]?(0,i.jsx)(c.N_,{to:"#",onClick:e=>{window.location.href=a.href||"",e.preventDefault()},children:n}):(0,i.jsx)(c.N_,{to:a.href||"",children:n})},img(e){let{node:t,children:n,...s}=e;const c=s.alt,r=null===c||void 0===c?void 0:c.match("alt: (.*), (size: ((\\d*)x(\\d*)))?(width: (\\d*))?");return r?r[7]?(0,i.jsx)("img",{src:s.src,alt:r[1],width:r[7]}):(0,i.jsx)("img",{src:s.src,alt:r[1],width:r[4],height:r[5]}):(0,i.jsx)("img",{src:s.src,alt:s.alt})}}},8933:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var s=n(5043),c=n(3910),r=n(1404),a=n(5215),l=n(2982),i=n(7653),o=n(4117),d=n(6947),u=n(7929),h=n(579);const m=function(e){const{t:t}=(0,o.Bd)(),{keyword:n,onChange:s,onKeyDown:r}=e;return(0,h.jsx)("div",{className:"search-input",children:(0,h.jsxs)("div",{className:"icon-input",children:[(0,h.jsx)("div",{className:"icon",children:(0,h.jsx)(c.g,{icon:u.MjD})}),(0,h.jsx)("input",{type:"text",name:"search",className:"search",placeholder:t("searchPage.searchPlaceholder"),value:n,onChange:s,onKeyDown:r,autoFocus:!0})]})})};var g=n(5475);class f{static matches(e){if(e){const c=[],r=e.split(" ").filter((e=>e.length>0));for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.forEach((e=>{this.extractKeywordValues(e,c)})),r.every((e=>c.some((t=>this.contains(t,e)))))}return!0}static matchesExact(e){if(e){const c=[];for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.forEach((e=>{this.extractKeywordValues(e,c)})),c.some((t=>this.contains(t,e)))}return!0}static extractKeywordValues(e,t){e instanceof Object?Object.keys(e).forEach((n=>{this.extractKeywordValues(e[n],t)})):void 0!==e&&null!==e&&t.push(e)}static contains(e,t){const n=(e||"").toString();return this.normalize(n).includes(this.normalize(t))}static normalize(e){return e.toLowerCase().replace(/[\xe9\xe8\xeb]/g,"e").replace(/[\xe0\xe1\xe4\xe3]/g,"a").replace(/[\xf2\xf3\xf6\xf5]/g,"o").replace(/[\xfc]/g,"u")}}const x=function(e){const{t:t}=(0,o.Bd)(),[n,c]=(0,g.ok)(),i=(0,s.useRef)(!1),[u,x]=(0,s.useState)(""),[v,p]=(0,s.useState)([]),[j,w]=(0,s.useState)(!1),_=(0,s.useRef)(),N=(0,s.useRef)(e.sections.reduce(((e,t)=>e.concat(t.chapters)),[])),b=(0,s.useCallback)((e=>{w(!0),_.current&&clearTimeout(_.current),_.current=setTimeout((()=>{if(!e||e.length<3)return p([]),void w(!1);const t=N.current.filter((t=>f.matches(e,[t.title,t.content]))).map((t=>({id:t.id,title:t.title,matchingContents:k(e,t.content),slug:t.slug_with_section})));p(t),w(!1),_.current=void 0}),500)}),[]);(0,s.useEffect)((()=>{if(!i.current){const e=n.get("keyword");e&&(x(e),b(e))}i.current=!0}),[n,b]);const k=(e,t)=>{const n=new RegExp("!?\\[(.*?)]\\((.*?)\\)","gmi"),s=new RegExp("[^.!?:;#\n]*(?=".concat(e,").*?[.!?](?=s?|p{Lu}|$)"),"gmi"),c=t.replace(n,"");return Array.from(c.matchAll(s)).reduce(((e,t)=>e.concat(t)),[])};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{keyword:u,onChange:e=>{var t,n;e.preventDefault();const s=null!==(t=null===(n=e.currentTarget)||void 0===n?void 0:n.value)&&void 0!==t?t:"";x(s);const r=s.length>0?{keyword:s}:void 0;c(r,{replace:!0}),b(s)}}),(0,h.jsx)("br",{}),(0,h.jsx)(d.A,{isLoading:j}),(0,h.jsx)("div",{className:"search-results",children:j?null:u.length>=3?v.length>0?v.map((e=>(0,h.jsxs)("div",{className:"search-result",children:[(0,h.jsx)("div",{className:"title-match",children:(0,h.jsx)(g.N_,{to:"/"+e.slug,children:e.title})}),e.matchingContents.length>0?(0,h.jsx)("div",{className:"content-match",children:e.matchingContents.map(((e,t)=>(0,h.jsx)(r.o,{remarkPlugins:[a.A],components:l.g,children:e},t)))}):null]},e.id))):(0,h.jsx)("div",{children:t("searchPage.noResults")}):(0,h.jsxs)("div",{children:[" ",t("searchPage.noKeyword",{amountOfCharacters:3})]})})]})},v=JSON.parse('{"id":1,"title":"Suche","content":"","menu_name":"Suche","locale":"de","published_at":"2024-02-04T22:30:00.000Z","created_at":"2024-02-04T22:30:00.000Z","updated_at":"2024-02-04T22:30:00.000Z","localizations":[{"id":2,"locale":"fr","published_at":"2024-02-04T22:30:00.000Z"},{"id":3,"locale":"it","published_at":"2024-02-04T22:30:00.000Z"}]}'),p=JSON.parse('{"id":2,"title":"Recherche","content":"","menu_name":"Recherche","locale":"fr","published_at":"2024-02-04T22:30:00.000Z","created_at":"2024-02-04T22:30:00.000Z","updated_at":"2024-02-04T22:30:00.000Z","localizations":[{"id":1,"locale":"de","published_at":"2024-02-04T22:30:00.000Z"},{"id":3,"locale":"it","published_at":"2024-02-04T22:30:00.000Z"}]}'),j=JSON.parse('{"id":3,"title":"Cerca","content":"","menu_name":"Cerca","locale":"it","published_at":"2024-02-04T22:30:00.000Z","created_at":"2024-02-04T22:30:00.000Z","updated_at":"2024-02-04T22:30:00.000Z","localizations":[{"id":1,"locale":"de","published_at":"2024-02-04T22:30:00.000Z"},{"id":2,"locale":"fr","published_at":"2024-02-04T22:30:00.000Z"}]}');const w=function(e){const t=i.A.language,[n,o]=(0,s.useState)();return(0,s.useEffect)((()=>{var e;document.title=null!==(e=null===n||void 0===n?void 0:n.title)&&void 0!==e?e:""}),[n]),(0,s.useEffect)((()=>{switch(i.A.language){case"de":default:return o(v);case"fr":return o(p);case"it":return o(j)}}),[t]),(0,s.useEffect)((()=>{var e;document.title=null!==(e=null===n||void 0===n?void 0:n.title)&&void 0!==e?e:""}),[n]),n?(0,h.jsx)("div",{className:"content-main",children:(0,h.jsxs)("div",{className:"search",children:[(0,h.jsxs)("h1",{children:[(0,h.jsx)(c.g,{icon:u.MjD})," ",n.title]}),(0,h.jsx)(r.o,{remarkPlugins:[a.A],components:l.g,children:n.content}),(0,h.jsx)(x,{sections:e.sections})]})}):null}}}]);
//# sourceMappingURL=933.c3e9523d.chunk.js.map