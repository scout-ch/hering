{"version":3,"file":"static/js/650.6eb4e408.chunk.js","mappings":"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","sources":["components/warning/Warning.tsx","helper/MarkdownComponents.tsx","pages/section/components/Target.tsx","pages/section/components/Chapter.tsx","pages/section/SectionPage.tsx","pages/section/helpers/intersection.helper.ts"],"sourcesContent":["import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport './warning.less'\n\ntype Props = {\n    content: any\n}\n\nexport default function Warning(props: Props) {\n    const { content } = props;\n\n    return (\n        <div className=\"warning\">\n            <div>\n                <FontAwesomeIcon icon={faExclamationTriangle}/>\n            </div>\n            {content}\n        </div>\n    );\n}","import React, {useContext} from 'react'\nimport {Link} from 'react-router-dom'\nimport {LinksContext} from '../App'\nimport {Components} from \"react-markdown/lib\"\nimport Warning from \"../components/warning/Warning\"\n\n// // @ts-ignore\n// remark.macros.img = function (altText, width) {\n//     var url = this;\n//     return '<img alt=\"' + altText + '\" src=\"' + url + '\" style=\"width: ' + width + '\" />';\n//   };\n\nexport const LinkComponent: Components = {\n    blockquote({children}) {\n        return <Warning content={children}/>\n    },\n    table({children}) {\n        return <div className=\"table-overflow\"><table>{children}</table></div>\n    },\n    a({node, children, ...props}) {\n        /* eslint-disable */\n        const links = useContext(LinksContext)\n        const link = props.href\n\n        const linkMatch = link?.match('\\\\$(.*)\\\\$');\n        if (linkMatch) {\n            const foundLink = links.find((l) => {\n                return l['key'] == linkMatch[1]\n            })\n\n            if (!foundLink) {\n                return <Link to={props.href || ''}>{children}</Link>\n            }\n\n            if (foundLink['link']) {\n                return <a href={foundLink['link']} target=\"_blank\" rel=\"noreferrer\">{children}</a>\n            }\n\n            if (foundLink['slug']) {\n                return <Link to={'/' + foundLink['slug']}>{children}</Link>\n            }\n\n            return <Link to={props.href || ''}>{children}</Link>\n\n        }\n\n        const mailto = link?.match('(mailto:)')\n        if (mailto && mailto.length > 2 && mailto[1]) {\n            return <Link to='#'\n                         onClick={(e) => {\n                             window.location.href = props.href || '';\n                             e.preventDefault();\n                         }}>\n                {children}\n            </Link>\n        }\n        return <Link to={props.href || ''}>{children}</Link>\n    },\n    img({node, children, ...props}) {\n        const alt = props.alt\n        /*\n        * matches the following:\n        * alt: text, size: 50x50\n        * or\n        * alt: text, width: 50\n        * maybe later: alt.match('alt:\\\\s([\\\\w\\\\s\\-\\_\\*]*),?\\\\s?(size:\\\\s((\\\\d*)x(\\\\d*)))?,?\\\\s?(width:\\\\s(\\\\d*))?,?\\\\s?(float: (\\\\w*))?');\n        */\n        const found = alt?.match('alt: (.*), (size: ((\\\\d*)x(\\\\d*)))?(width: (\\\\d*))?');\n        if (found) {\n            if (found[7]) {\n                return <img src={props.src} alt={found[1]} width={found[7]}/>\n            } else {\n                return <img src={props.src} alt={found[1]} width={found[4]} height={found[5]}/>\n            }\n        } else {\n            return <img src={props.src} alt={props.alt}/>\n        }\n    }\n}","import React from 'react'\nimport {useTranslation} from 'react-i18next'\nimport {Role} from './Chapter'\n\ntype Props = {\n    targets: Role[]\n}\n\nexport default function Target(props: Props) {\n\n    const {t} = useTranslation()\n\n    const targetList = props.targets.map(function (target: Role) {\n        return <div key={target.rolle} className='role'>{t(`target.role.${target.rolle}`)}</div>\n    })\n\n    return <div className='targets'>\n        {targetList}\n    </div>\n}","import React from 'react'\nimport Markdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'\nimport {LinkComponent} from '../../../helper/MarkdownComponents'\nimport Target from './Target'\nimport './chapter.less'\nimport {IconT} from \"../../../shared/types\";\nimport {SectionT} from \"../SectionPage\";\n\nexport type Role = {\n    rolle: string\n}\n\nexport type ChapterT = {\n    id: number\n    sorting: number\n    title: string\n    menu_name: string\n    content: string\n    slug: string\n    slug_with_section: string\n    icon: IconT\n    section: SectionT\n    responsible: Role[]\n}\n\ntype ChapterProps = {\n    data: ChapterT;\n};\n\nfunction Chapter(props: ChapterProps) {\n\n    const data = props.data\n    if (!data) {\n        return null\n    }\n\n    return <div className='chapter'>\n        <div id={data.slug}>\n            <div className=\"chapter-title\">\n                {data.icon && (<img className='chapter-icon' src={data.icon.url} alt=\"icon\"/>)}\n                <h2 id={data.slug}>{data.title}</h2>\n            </div>\n\n            <div className='chapter-main'>\n                <Target targets={data.responsible}/>\n                <Markdown\n                    remarkPlugins={[remarkGfm]}\n                    components={LinkComponent}>\n                    {data.content}\n                </Markdown>\n            </div>\n        </div>\n    </div>\n}\n\nexport default Chapter","import React, { useEffect } from 'react'\nimport { useParams } from 'react-router'\nimport Chapter, { ChapterT } from \"./components/Chapter\";\nimport Markdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { LinkComponent } from \"../../helper/MarkdownComponents\";\nimport { useLocation } from \"react-router-dom\";\nimport { handleIntersectionChanged } from \"./helpers/intersection.helper\";\n\nexport type SectionT = {\n    chapters: ChapterT[]\n    sorting: number\n    title: string\n    content: string\n    slug: string\n    menu_name: string\n    localizations: any\n}\n\nexport type SectionsByKey = {\n    [key: string]: SectionT\n}\n\ntype Props = {\n    sections: SectionsByKey\n}\n\ntype Params = {\n    slug: string\n}\n\nfunction SectionPage(props: Props) {\n    const { slug } = useParams<Params>()\n    const section = props.sections[slug || '']\n    const location = useLocation()\n\n    useEffect(() => {\n        if (section) {\n            document.title = section['title']\n        }\n    }, [section]);\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => handleIntersectionChanged(entries, location.hash), {\n            root: document,\n            rootMargin: '0px',\n            threshold: [0.2]\n        });\n\n        document.querySelectorAll('.chapter').forEach((chapter) => {\n            observer.observe(chapter);\n        });\n\n        return () => {\n            observer.disconnect()\n        };\n    }, [section, location]);\n\n    if (!section) {\n        return null\n    }\n\n    const chapters = section['chapters']\n        .sort((a: ChapterT, b: ChapterT) => a.sorting - b.sorting)\n        .map(chapter => <Chapter key={chapter['title']} data={chapter}></Chapter>)\n\n    return <div className=\"content\" id=\"section\">\n        <div className=\"content-main\">\n            <div id=\"section-title\" className=\"section-title\">\n                <h1>{section['title']}</h1>\n            </div>\n            <Markdown\n                remarkPlugins={[remarkGfm]}\n                components={LinkComponent}>\n                {section.content}\n            </Markdown>\n            {chapters}\n        </div>\n    </div>\n}\n\nexport default SectionPage\n","import { CHAPTER_NAV_UPDATED_EVENT } from \"../../../shared/constants\";\n\nexport function handleIntersectionChanged(entries: IntersectionObserverEntry[], locationHash: string) {\n    if (entries.length === 0) {\n        return;\n    }\n\n    if (entries.length > 1) {\n        // Multiple entries in one batch are mostly observed if the navigation originated\n        // from a Route event. If this is the case, we check if a hash route is actually set.\n        // If the navigation originated by a hash route, we don't want to overwrite the selected slug.\n        if (locationHash.length > 0) {\n            return\n        }\n\n        // If there was no hash route selected, we select the first intersecting element that is observed.\n        // This mainly happends if a section is directly selected in the menu without selecting a chapter.\n        const intersectingElement = entries.find(e => e.isIntersecting)\n        if (!intersectingElement) {\n            return\n        }\n\n        window.dispatchEvent(new CustomEvent(CHAPTER_NAV_UPDATED_EVENT, {\n            detail: {\n                chapterSlug: intersectingElement.target.children[0].id\n            }\n        }))\n\n        return\n    }\n\n    entries.forEach(entry => {\n        const topRatio = entry.intersectionRect.top / entry.rootBounds!.height;\n        if (topRatio > 0.1) {\n            // If the element is too far away from the top, we ignore it.\n            return;\n        }\n\n        // isInterceting && topRatio <= 0.1 --> target element is active\n        // !isInterceting && topRatio <= 0.1 --> target next sibling (element) is active\n        const chapterSlug = entry.isIntersecting\n            ? entry.target.children[0].id\n            : entry.target.nextElementSibling?.children[0].id\n        if (!chapterSlug) {\n            return;\n        }\n\n        window.dispatchEvent(new CustomEvent(CHAPTER_NAV_UPDATED_EVENT, {\n            detail: {\n                chapterSlug: chapterSlug\n            }\n        }))\n    });\n}"],"names":["Warning","props","content","_jsxs","className","children","_jsx","FontAwesomeIcon","icon","faExclamationTriangle","LinkComponent","blockquote","_ref","table","_ref2","a","_ref3","node","links","useContext","LinksContext","link","href","linkMatch","match","foundLink","find","l","target","rel","Link","to","mailto","length","onClick","e","window","location","preventDefault","img","_ref4","alt","found","src","width","height","Target","t","useTranslation","targetList","targets","map","concat","rolle","data","id","slug","url","title","responsible","Markdown","remarkPlugins","remarkGfm","components","useParams","section","sections","useLocation","useEffect","document","observer","IntersectionObserver","entries","locationHash","intersectingElement","isIntersecting","dispatchEvent","CustomEvent","CHAPTER_NAV_UPDATED_EVENT","detail","chapterSlug","forEach","entry","_entry$target$nextEle","intersectionRect","top","rootBounds","nextElementSibling","handleIntersectionChanged","hash","root","rootMargin","threshold","querySelectorAll","chapter","observe","disconnect","chapters","sort","b","sorting","Chapter"],"sourceRoot":""}